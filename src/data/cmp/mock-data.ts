import type { CmpControlDetail } from "./types";

export const mockCmpControls: CmpControlDetail[] = [
  {
    id: "CMP-001",
    title: "Target Market & Client Segmentation",
    objective: "Ensure advice is only provided to target customers with documented needs",
    owner: "Rory Finch",
    backupOwner: "Leila Burns",
    frequency: "quarterly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 28).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 60).toISOString(),
    status: "active",
    ragStatus: "green",
    passRate: 0.92,
    automationCoverage: 0.35,
    dutyOutcome: "Products & Services",
    regulatoryReferences: ["FG22/5", "PRIN 2A"],
    linkedRisks: [
      { riskId: "RA-001", title: "Third-party payment processor outage", inherentScore: 16, residualScore: 9 },
      { riskId: "RA-003", title: "Consumer duty communications", inherentScore: 8, residualScore: 6 },
    ],
    consumerDutyNotes: "Quarterly reviews align to Consumer Duty outcome testing.",
    criticality: "high",
    testsPlanned: 5,
    testsExecuted: 4,
    issuesOpen: 1,
    trend: "improving",
    controlType: "preventative",
    dependencies: ["Product Governance Committee", "CRM Workflow"],
    dataSources: ["Salesforce", "Client File Share"],
    testPlan: [
      {
        id: "CMP-001-STEP-1",
        stepNumber: 1,
        objective: "Validate target market statements",
        procedure: "Review latest target market articulation for clarity",
        sampleSize: 10,
        dataSource: "Product governance minutes",
        evidenceLocation: "SharePoint/Controls/CMP001",
        automation: false,
        technique: "inspection",
        expectedResult: "Target market language updated within last quarter",
      },
      {
        id: "CMP-001-STEP-2",
        stepNumber: 2,
        objective: "Check negative target market controls",
        procedure: "Inspect suitability letters for exclusion statements",
        sampleSize: 12,
        dataSource: "Suitability letters",
        evidenceLocation: "SharePoint/Controls/CMP001",
        automation: true,
        technique: "analytics",
        expectedResult: "100% of sampled letters include explicit exclusions",
      },
    ],
    executions: [
      {
        id: "CMP-001-EXEC-1",
        stepId: "CMP-001-STEP-1",
        tester: "Robin Cole",
        reviewer: "Rory Finch",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 30).toISOString(),
        result: "pass",
        sampleSize: 10,
        comments: "All statements refreshed in September",
      },
      {
        id: "CMP-001-EXEC-2",
        stepId: "CMP-001-STEP-2",
        tester: "John Patel",
        reviewer: "Rory Finch",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 32).toISOString(),
        result: "partial",
        sampleSize: 12,
        comments: "2 letters missing exclusions",
      },
    ],
    findings: [
      {
        id: "CMP-001-F001",
        title: "Suitability template missing exclusion field",
        description: "Legacy template does not force advisers to capture negative target market",
        severity: "high",
        status: "in_progress",
        dueDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 21).toISOString(),
        owner: "Leila Burns",
        rootCause: "Template governance gap",
        businessImpact: "Potential Consumer Duty breach",
        interimControls: "Manual QA review",
        relatedTestId: "CMP-001-EXEC-2",
        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 25).toISOString(),
      },
    ],
    kris: [
      {
        id: "CMP-001-KRI-1",
        name: "Files with clear target market",
        metric: "% of files",
        target: 95,
        actual: 92,
        status: "amber",
        commentary: "Two advisers onboarded recently require refresher",
      },
    ],
    notes: "Continue automation proof-of-concept for suitability scanning.",
  },
  {
    id: "CMP-007",
    title: "Suitability Report Process",
    objective: "Evidence suitability reasoning and Consumer Duty fairness",
    owner: "Ifeoma Kalu",
    backupOwner: "Rory Finch",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 20).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.78,
    automationCoverage: 0.5,
    dutyOutcome: "Consumer Understanding",
    regulatoryReferences: ["COBS 9.4", "FG11/5"],
    linkedRisks: [{ riskId: "RA-003", title: "Consumer duty communications", inherentScore: 8, residualScore: 6 }],
    criticality: "critical",
    testsPlanned: 6,
    testsExecuted: 6,
    issuesOpen: 2,
    trend: "declining",
    controlType: "detective",
    dependencies: ["Advice QA", "DocuSign templates", "Advice MI"],
    dataSources: ["Advice platform", "SharePoint"],
    testPlan: [
      {
        id: "CMP-007-STEP-1",
        stepNumber: 1,
        objective: "Check suitability rationale completeness",
        procedure: "Review sample of reports",
        sampleSize: 15,
        dataSource: "Advice MI",
        evidenceLocation: "SharePoint/CMP007",
        automation: false,
        technique: "inspection",
        expectedResult: "All reports include capacity for loss",
      },
      {
        id: "CMP-007-STEP-2",
        stepNumber: 2,
        objective: "Verify Consumer Duty statement",
        procedure: "Keyword scan to confirm customer outcome statement",
        sampleSize: 30,
        dataSource: "Advice platform",
        evidenceLocation: "SharePoint/CMP007",
        automation: true,
        technique: "analytics",
        expectedResult: ">= 95% of reports include Consumer Duty paragraph",
      },
    ],
    executions: [
      {
        id: "CMP-007-EXEC-1",
        stepId: "CMP-007-STEP-1",
        tester: "Devon Lowe",
        reviewer: "Ifeoma Kalu",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 20).toISOString(),
        result: "fail",
        sampleSize: 15,
        comments: "3 reports lacked capacity for loss analysis",
      },
      {
        id: "CMP-007-EXEC-2",
        stepId: "CMP-007-STEP-2",
        tester: "Devon Lowe",
        reviewer: "Ifeoma Kalu",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 18).toISOString(),
        result: "pass",
        sampleSize: 30,
        comments: "Automation flagged two issues automatically",
      },
    ],
    findings: [
      {
        id: "CMP-007-F002",
        title: "Capacity for loss narrative missing",
        description: "Reports do not adequately explain CFL assessment",
        severity: "critical",
        status: "open",
        dueDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 14).toISOString(),
        owner: "Devon Lowe",
        rootCause: "Training gap",
        businessImpact: "FCA supervision attention",
        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 10).toISOString(),
      },
      {
        id: "CMP-007-F003",
        title: "Consumer Duty template not enforced",
        description: "Templates allow advisers to delete duty statement",
        severity: "high",
        status: "in_progress",
        dueDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30).toISOString(),
        owner: "Leila Burns",
        rootCause: "Template version control",
        businessImpact: "Inconsistent disclosures",
        interimControls: "Weekly QA",
        createdAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 5).toISOString(),
      },
    ],
    kris: [
      { id: "CMP-007-KRI-1", name: "Reports with CFL detail", metric: "%", target: 95, actual: 82, status: "red" },
      { id: "CMP-007-KRI-2", name: "Duty statements present", metric: "%", target: 98, actual: 97, status: "green" },
    ],
  },
  {
    id: "CMP-016",
    title: "AML & Financial Crime",
    objective: "Detect suspicious activity via surveillance and casework",
    owner: "Regina Miles",
    backupOwner: "Tomas Igbene",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 5).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 25).toISOString(),
    status: "active",
    ragStatus: "green",
    passRate: 0.88,
    automationCoverage: 0.65,
    dutyOutcome: "Price & Value",
    regulatoryReferences: ["MLR 2017", "SYSC 6.3"],
    linkedRisks: [{ riskId: "RA-002", title: "Financial crime monitoring gaps", inherentScore: 15, residualScore: 8 }],
    criticality: "high",
    testsPlanned: 4,
    testsExecuted: 4,
    issuesOpen: 0,
    trend: "steady",
    controlType: "detective",
    dependencies: ["Transaction Monitoring", "Case Manager"],
    dataSources: ["TM platform", "SAR casework"],
    testPlan: [
      {
        id: "CMP-016-STEP-1",
        stepNumber: 1,
        objective: "Scenario tuning review",
        procedure: "Re-perform tuning analysis for top scenarios",
        sampleSize: 3,
        dataSource: "TM tuning dashboards",
        evidenceLocation: "SharePoint/CMP016",
        automation: false,
        technique: "re-performance",
        expectedResult: "Documented rationale for thresholds",
      },
      {
        id: "CMP-016-STEP-2",
        stepNumber: 2,
        objective: "Case closure quality",
        procedure: "Inspect closed case files",
        sampleSize: 20,
        dataSource: "Case Management",
        evidenceLocation: "SharePoint/CMP016",
        automation: false,
        technique: "inspection",
        expectedResult: "All cases include reviewer sign-off",
      },
    ],
    executions: [
      {
        id: "CMP-016-EXEC-1",
        stepId: "CMP-016-STEP-1",
        tester: "Mina Onyen",
        reviewer: "Regina Miles",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 25).toISOString(),
        result: "pass",
        sampleSize: 3,
        comments: "Tuning thresholds justified",
      },
      {
        id: "CMP-016-EXEC-2",
        stepId: "CMP-016-STEP-2",
        tester: "Mina Onyen",
        reviewer: "Regina Miles",
        testedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 24).toISOString(),
        result: "pass",
        sampleSize: 20,
        comments: "Reviewer sign-off present",
      },
    ],
    findings: [],
    kris: [
      { id: "CMP-016-KRI-1", name: "Cases with reviewer sign-off", metric: "%", target: 100, actual: 100, status: "green" },
      { id: "CMP-016-KRI-2", name: "SAR backlog", metric: "days", target: 3, actual: 2, status: "green" },
    ],
  },
  {
    id: "CMP-021",
    title: "Complaints intake & triage SLA",
    objective: "Log and triage complaints within 24 hours with clear ownership assigned",
    owner: "Complaints Manager",
    backupOwner: "Compliance Ops Lead",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 10).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 20).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.82,
    automationCoverage: 0.4,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 1.3", "PRIN 2A"],
    linkedRisks: [{ riskId: "RA-020", title: "Missed complaint timelines", inherentScore: 12, residualScore: 7 }],
    consumerDutyNotes: "Intake SLAs support timely resolution and fair outcomes.",
    criticality: "high",
    testsPlanned: 3,
    testsExecuted: 2,
    issuesOpen: 1,
    trend: "steady",
    controlType: "preventative",
    dependencies: ["Complaints inbox", "Case management workflow"],
    dataSources: ["Complaints system", "CRM"],
    testPlan: [
      {
        id: "CMP-021-STEP-1",
        stepNumber: 1,
        objective: "Confirm intake logging and triage timestamp",
        procedure: "Review complaint intake logs for time-to-log and assigned owner",
        sampleSize: 25,
        dataSource: "Complaints system",
        evidenceLocation: "SharePoint/CMP021",
        automation: true,
        technique: "analytics",
        expectedResult: ">= 95% logged within SLA and assigned",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-021-KRI-1", name: "Intake logged within 24h", metric: "%", target: 95, actual: 88, status: "amber" },
    ],
    notes: "Monitor backlog during peak periods and update staffing.",
  },
  {
    id: "CMP-022",
    title: "SRC issuance control (3-day)",
    objective: "Issue summary resolution communications within 3 business days where eligible",
    owner: "Complaints Manager",
    backupOwner: "Quality Assurance Lead",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 12).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 18).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.79,
    automationCoverage: 0.35,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 1.5"],
    linkedRisks: [{ riskId: "RA-020", title: "Missed complaint timelines", inherentScore: 12, residualScore: 7 }],
    criticality: "high",
    testsPlanned: 4,
    testsExecuted: 3,
    issuesOpen: 2,
    trend: "declining",
    controlType: "detective",
    dependencies: ["SRC template library", "Case workflow"],
    dataSources: ["Complaints system"],
    testPlan: [
      {
        id: "CMP-022-STEP-1",
        stepNumber: 1,
        objective: "Check SRC sent within 3 business days",
        procedure: "Sample eligible cases and validate SRC timestamps",
        sampleSize: 20,
        dataSource: "Complaints system",
        evidenceLocation: "SharePoint/CMP022",
        automation: false,
        technique: "inspection",
        expectedResult: ">= 95% of eligible cases have SRC issued within 3 days",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-022-KRI-1", name: "SRC issued within 3 days", metric: "%", target: 95, actual: 83, status: "amber" },
    ],
    notes: "Expand automated reminders for SRC eligibility checks.",
  },
  {
    id: "CMP-023",
    title: "PSR 15/35-day timer control",
    objective: "Monitor PSD complaint timelines and issue exception notices when 35-day limit applies",
    owner: "Complaints Manager",
    backupOwner: "Regulatory Reporting Lead",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 14).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 22).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.84,
    automationCoverage: 0.45,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["PSR 2017", "DISP 1.6"],
    linkedRisks: [{ riskId: "RA-020", title: "Missed complaint timelines", inherentScore: 12, residualScore: 7 }],
    criticality: "high",
    testsPlanned: 3,
    testsExecuted: 2,
    issuesOpen: 1,
    trend: "steady",
    controlType: "preventative",
    dependencies: ["PSD timeline tracker", "Case management workflow"],
    dataSources: ["Complaints system", "PSD tracker"],
    testPlan: [
      {
        id: "CMP-023-STEP-1",
        stepNumber: 1,
        objective: "Validate PSD clock tracking",
        procedure: "Review PSD cases and confirm 15/35-day triggers applied",
        sampleSize: 15,
        dataSource: "PSD tracker",
        evidenceLocation: "SharePoint/CMP023",
        automation: true,
        technique: "analytics",
        expectedResult: "100% of PSD cases monitored with alerts at 10/20 days",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-023-KRI-1", name: "PSD cases within 15/35 days", metric: "%", target: 95, actual: 90, status: "amber" },
    ],
    notes: "Align PSD alerts with case workflow reminders.",
  },
  {
    id: "CMP-024",
    title: "Forwarding & joint-responsibility control",
    objective: "Forward complaints promptly to the responsible firm and track joint responsibility cases",
    owner: "Complaints Manager",
    backupOwner: "Third Party Oversight Lead",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 16).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 26).toISOString(),
    status: "active",
    ragStatus: "green",
    passRate: 0.91,
    automationCoverage: 0.25,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 2.5", "PRIN 2A"],
    linkedRisks: [{ riskId: "RA-021", title: "Escalation or forwarding failure", inherentScore: 10, residualScore: 6 }],
    criticality: "medium",
    testsPlanned: 2,
    testsExecuted: 2,
    issuesOpen: 0,
    trend: "improving",
    controlType: "preventative",
    dependencies: ["Third-party register", "Forwarding workflow"],
    dataSources: ["Complaints system", "Third-party records"],
    testPlan: [
      {
        id: "CMP-024-STEP-1",
        stepNumber: 1,
        objective: "Confirm forwarding within required timeframes",
        procedure: "Review forwarded complaints for timestamp compliance",
        sampleSize: 10,
        dataSource: "Complaints system",
        evidenceLocation: "SharePoint/CMP024",
        automation: false,
        technique: "inspection",
        expectedResult: "All forwarded cases sent within required timeframe",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-024-KRI-1", name: "Forwarding within SLA", metric: "%", target: 98, actual: 96, status: "green" },
    ],
    notes: "Maintain updated third-party contacts and escalation paths.",
  },
  {
    id: "CMP-025",
    title: "FOS signposting & final response control",
    objective: "Ensure final responses include FOS rights and correct time limits",
    owner: "Complaints Manager",
    backupOwner: "Compliance Officer",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 11).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 19).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.85,
    automationCoverage: 0.3,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 1.6", "DISP 1.7"],
    linkedRisks: [{ riskId: "RA-022", title: "FOS overturn or redress escalation risk", inherentScore: 12, residualScore: 7 }],
    criticality: "high",
    testsPlanned: 3,
    testsExecuted: 2,
    issuesOpen: 1,
    trend: "steady",
    controlType: "detective",
    dependencies: ["Final response templates", "Quality checks"],
    dataSources: ["Complaints system"],
    testPlan: [
      {
        id: "CMP-025-STEP-1",
        stepNumber: 1,
        objective: "Validate FOS signposting in final responses",
        procedure: "Review final response letters for mandatory FOS wording",
        sampleSize: 15,
        dataSource: "Final response letters",
        evidenceLocation: "SharePoint/CMP025",
        automation: false,
        technique: "inspection",
        expectedResult: "100% of letters include correct FOS signposting",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-025-KRI-1", name: "Final responses with FOS wording", metric: "%", target: 98, actual: 92, status: "amber" },
    ],
    notes: "Automate QA checks on final response templates.",
  },
  {
    id: "CMP-026",
    title: "Root cause analysis (RCA) control",
    objective: "Conduct RCA on upheld complaints and track remediation actions",
    owner: "Quality Assurance Lead",
    backupOwner: "Head of Compliance",
    frequency: "quarterly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 25).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 40).toISOString(),
    status: "active",
    ragStatus: "amber",
    passRate: 0.8,
    automationCoverage: 0.2,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 1.10", "PRIN 2A"],
    linkedRisks: [{ riskId: "RA-024", title: "Data quality gaps in complaints MI", inherentScore: 9, residualScore: 6 }],
    criticality: "high",
    testsPlanned: 2,
    testsExecuted: 1,
    issuesOpen: 2,
    trend: "declining",
    controlType: "detective",
    dependencies: ["RCA log", "Action tracking"],
    dataSources: ["RCA register", "Complaints MI"],
    testPlan: [
      {
        id: "CMP-026-STEP-1",
        stepNumber: 1,
        objective: "Check RCA completion for upheld complaints",
        procedure: "Sample upheld complaints and verify RCA completion and action owner",
        sampleSize: 12,
        dataSource: "RCA register",
        evidenceLocation: "SharePoint/CMP026",
        automation: false,
        technique: "inspection",
        expectedResult: ">= 90% of upheld complaints have RCA with actions assigned",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-026-KRI-1", name: "RCA completed within 30 days", metric: "%", target: 90, actual: 78, status: "amber" },
    ],
    notes: "Add escalation for overdue RCA actions.",
  },
  {
    id: "CMP-027",
    title: "MI pack & board reporting control",
    objective: "Deliver monthly MI packs and quarterly board reporting on complaints outcomes",
    owner: "Compliance Reporting Lead",
    backupOwner: "Complaints Manager",
    frequency: "monthly",
    nextTestDue: new Date(Date.now() + 1000 * 60 * 60 * 24 * 9).toISOString(),
    lastTestedAt: new Date(Date.now() - 1000 * 60 * 60 * 24 * 15).toISOString(),
    status: "active",
    ragStatus: "green",
    passRate: 0.93,
    automationCoverage: 0.5,
    dutyOutcome: "Consumer Support",
    regulatoryReferences: ["DISP 1.10", "PRIN 2A"],
    linkedRisks: [{ riskId: "RA-024", title: "Data quality gaps in complaints MI", inherentScore: 9, residualScore: 6 }],
    criticality: "medium",
    testsPlanned: 4,
    testsExecuted: 4,
    issuesOpen: 0,
    trend: "improving",
    controlType: "preventative",
    dependencies: ["MI dashboard", "Board reporting calendar"],
    dataSources: ["Complaints MI", "RegData extracts"],
    testPlan: [
      {
        id: "CMP-027-STEP-1",
        stepNumber: 1,
        objective: "Confirm MI pack delivery and completeness",
        procedure: "Review latest MI packs for required KPI coverage",
        sampleSize: 2,
        dataSource: "MI pack archive",
        evidenceLocation: "SharePoint/CMP027",
        automation: false,
        technique: "inspection",
        expectedResult: "MI pack includes SLA, RCA, and vulnerable customer metrics",
      },
    ],
    executions: [],
    findings: [],
    kris: [
      { id: "CMP-027-KRI-1", name: "MI pack delivered on time", metric: "%", target: 100, actual: 100, status: "green" },
    ],
    notes: "Align MI pack with Consumer Duty board reporting.",
  },
];
